# IAM Service Environment Configuration
# Copy this file to .env and customize the values

# ====================
# Server Configuration
# ====================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# ====================
# Database Configuration (PostgreSQL)
# ====================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=iam_db
DB_USER=iam_user
DB_PASSWORD=iam_password
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=25
DB_CONN_MAX_LIFETIME=5m

# ====================
# Redis Configuration
# ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# ====================
# JWT Configuration
# ====================
# IMPORTANT: Change this secret in production!
JWT_SECRET=your-super-secret-jwt-key-change-in-production-use-256-bit-key
JWT_ACCESS_TOKEN_DURATION=15m
JWT_REFRESH_TOKEN_DURATION=7d
JWT_ISSUER=iam-service

# ====================
# Security Configuration
# ====================
BCRYPT_COST=12
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=30m
SESSION_TIMEOUT=24h

# ====================
# Observability Configuration
# ====================
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_METRICS=true
ENABLE_TRACING=true
METRICS_PORT=9090

# ====================
# Environment
# ====================
ENV=development

# ====================
# Optional: External Services
# ====================
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook/telegram
# EMAIL_SERVICE_URL=http://email-service:8080
# NOTIFICATION_SERVICE_URL=http://notification-service:8080

# ====================
# Optional: Tracing
# ====================
# JAEGER_ENDPOINT=http://jaeger:14268/api/traces
# OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces
# OTEL_SERVICE_NAME=iam-service

# ====================
# Optional: Metrics
# ====================
# PROMETHEUS_PUSHGATEWAY_URL=http://prometheus-pushgateway:9091 